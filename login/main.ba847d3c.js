import{ab as s,ao as a,af as e,ap as o,ae as t,aq as i,a8 as l}from"../js/lib.9ec3b7f1.js";import{C as n,S as c,O as r,i as m,N as p}from"../js/wesib.29dab4ef.js";import{U as d,C as g,F as b,A as u,a as f,c as h}from"../js/common.4b73c0e1.js";let j=class{};j=s([n(["login-email",g],d({makeControl:({node:s,aspects:t})=>a(s.element,{aspects:t}).setup(e,s=>s.by(o()))}),c("email"))],j);let v=class{};v=s([n(["login-password",g],d({makeControl:({node:s,aspects:t})=>a(s.element,{aspects:t}).setup(e,s=>s.by(o()))}),c("password"))],v);let w=class{constructor(s){this._authService=s.get(u),this._navigation=s.get(p)}submit({control:s}){s.aspect(t).markEdited(),s.aspect(i).submit(s=>f(this._authService.login(s))).then(()=>this._navigation.open(".")).catch(s=>{s instanceof l?console.log("Failed to login",...s.errors):console.log("Failed to login",s)})}};s([r()],w.prototype,"submit",null),w=s([n(["login",g],{feature:{needs:[j,v]}},b({emptyModel:{email:"",password:""}}),m())],w),h.load(w);export{j as LoginEmailComponent,v as LoginPasswordComponent};//# sourceMappingURL=main.ba847d3c.js.map
