import{ab as s,ao as a,af as e,ap as o,ae as t,aq as i,a7 as l}from"../js/lib.e4c19b17.js";import{C as n,S as r,O as c,i as m,N as p}from"../js/wesib.026f685a.js";import{U as d,C as g,b,A as u,d as h,c as f}from"../js/common.673eb9a1.js";let j=class{};j=s([n(["login-email",g],d({makeControl:({node:s,aspects:t})=>a(s.element,{aspects:t}).setup(e,s=>s.by(o()))}),r("email"))],j);let v=class{};v=s([n(["login-password",g],d({makeControl:({node:s,aspects:t})=>a(s.element,{aspects:t}).setup(e,s=>s.by(o()))}),r("password"))],v);let w=class{constructor(s){this._authService=s.get(u),this._navigation=s.get(p)}submit({control:s}){s.aspect(t).markEdited(),s.aspect(i).submit(s=>h(this._authService.login(s))).then(()=>this._navigation.open(".")).catch(s=>{s instanceof l?console.log("Failed to login",...s.errors):console.log("Failed to login",s)})}};s([c()],w.prototype,"submit",null),w=s([n(["login",g],{feature:{needs:[j,v]}},b({emptyModel:{email:"",password:""}}),m())],w),f.load(w);export{j as LoginEmailComponent,v as LoginPasswordComponent};//# sourceMappingURL=main.ebc2cef3.js.map
