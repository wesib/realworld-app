import{ac as s,aq as a,ah as e,ar as o,ag as t,as as i,a9 as l}from"../js/lib.722ff502.js";import{C as n,S as r,O as c,j as m,N as p}from"../js/wesib.828181c2.js";import{U as g,C as d,g as h,A as u,h as b,c as f}from"../js/common.d13eb97a.js";let j=class{};j=s([n(["login-email",d],g({makeControl:({node:s,aspects:t})=>a(s.element,{aspects:t}).setup(e,s=>s.by(o()))}),r("email"))],j);let v=class{};v=s([n(["login-password",d],g({makeControl:({node:s,aspects:t})=>a(s.element,{aspects:t}).setup(e,s=>s.by(o()))}),r("password"))],v);let w=class{constructor(s){this._authService=s.get(u),this._navigation=s.get(p)}submit({control:s}){s.aspect(t).markEdited(),s.aspect(i).submit(s=>b(this._authService.login(s))).then(()=>this._navigation.open(".")).catch(s=>{s instanceof l?console.log("Failed to login",...s.errors):console.log("Failed to login",s)})}};s([c()],w.prototype,"submit",null),w=s([n(["login",d],{feature:{needs:[j,v]}},h({emptyModel:{email:"",password:""}}),m())],w),f.load(w);export{j as LoginEmailComponent,v as LoginPasswordComponent};//# sourceMappingURL=main.76e9878d.js.map
