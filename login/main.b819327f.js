import{C as s}from"../js/_wesib/wesib.6bf655a7.js";import{_ as o}from"../js/helpers.920c7f83.js";import{a as e}from"../js/_common/auth.e5cbd92f.js";import{a}from"../js/_common/api.44da948d.js";import{S as t,O as i,a as m,N as r}from"../js/_wesib/generic.69e1c9fe.js";import{q as c,g as n,r as l,f as p,s as d,I as f}from"../js/_lib_/input-aspects.cc17fcb1.js";import{C as j}from"../js/_common/index.e13c2fd6.js";import{c as g}from"../js/_common/main.cc9f0a0d.js";import{U as _,F as u,C as b}from"../js/_common/input.8e7d6929.js";let h=class{};h=o([s(["login-email",j],_({makeControl:({node:s,aspects:o})=>c(s.element,{aspects:o}).setup(n,s=>s.by(l()))}),t("email"))],h);let w=class{};w=o([s(["login-password",j],_({makeControl:({node:s,aspects:o})=>c(s.element,{aspects:o}).setup(n,s=>s.by(l()))}),t("password"))],w);let C=class{constructor(s){this._authService=s.get(e),this._navigation=s.get(r)}submit({control:s}){s.aspect(p).markEdited(),s.aspect(d).submit(s=>a(this._authService.login(s))).then(()=>this._navigation.open(".")).catch(s=>{s instanceof f?console.log("Failed to login",...s.errors):console.log("Failed to login",s)})}};o([i()],C.prototype,"submit",null),C=o([s(["login",j],{feature:{needs:[b,h,w]}},u({emptyModel:{email:"",password:""}}),m())],C),g.load(C);export{h as LoginEmailComponent,w as LoginPasswordComponent};//# sourceMappingURL=main.b819327f.js.map
