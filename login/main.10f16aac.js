import{C as s}from"../js/wesib/wesib.84ff8eb8.js";import{_ as o}from"../js/helpers.920c7f83.js";import{a}from"../js/common/auth.7af1dac4.js";import{a as e}from"../js/common/api.c33a392f.js";import{S as t,O as i,a as m,N as r}from"../js/wesib/generic.643f46dc.js";import{q as n,g as c,r as l,f as p,s as d,I as f}from"../js/lib/input-aspects.963c1cb4.js";import{C as j}from"../js/common.74dd5bad.js";import{c as b}from"../js/common/main.cbd1afd7.js";import{U as g,F as u,C as h}from"../js/common/input.9985e50b.js";let w=class{};w=o([s(["login-email",j],g({makeControl:({node:s,aspects:o})=>n(s.element,{aspects:o}).setup(c,s=>s.by(l()))}),t("email"))],w);let C=class{};C=o([s(["login-password",j],g({makeControl:({node:s,aspects:o})=>n(s.element,{aspects:o}).setup(c,s=>s.by(l()))}),t("password"))],C);let _=class{constructor(s){this._authService=s.get(a),this._navigation=s.get(r)}submit({control:s}){s.aspect(p).markEdited(),s.aspect(d).submit(s=>e(this._authService.login(s))).then(()=>this._navigation.open(".")).catch(s=>{s instanceof f?console.log("Failed to login",...s.errors):console.log("Failed to login",s)})}};o([i()],_.prototype,"submit",null),_=o([s(["login",j],{feature:{needs:[h,w,C]}},u({emptyModel:{email:"",password:""}}),m())],_),b.load(_);export{w as LoginEmailComponent,C as LoginPasswordComponent};//# sourceMappingURL=main.10f16aac.js.map
