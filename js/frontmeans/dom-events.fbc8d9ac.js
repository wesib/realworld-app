import{S as t,n as e}from"../proc7ts/primitives.d6f0dd1c.js";import{H as s,O as n,f as r}from"../proc7ts/fun-events.2a5b87d8.js";const i=r(e);function p(t){const e=(e,n)=>{const r=s(e),{supply:i}=r;return i.isOff||t(r,n),i};return e[n]=i[n],e.do=i.do,e.then=i.then,e}const o={onRecurrent:e};class u{constructor(e){this.supply=new t,this._target=e}on(t){return p(((e,s)=>{const{supply:n}=e;if(n.needs(this),!n.isOff){const n=t=>e.receive(o,t);this._target.addEventListener(t,n,s),e.supply.whenOff((()=>this._target.removeEventListener(t,n)))}}))}dispatch(t){return!this.supply.isOff&&this._target.dispatchEvent(t)}}function c(t=!0){return t?a:f}function a(t){return p(((e,s)=>null==s?t(e,{passive:!0}):"boolean"==typeof s?t(e,{capture:s,passive:!0}):null==s.passive?t(e,{...s,passive:!0}):t(e,s)))}function f(t){return p(((e,n)=>{const r=s(e);return t({supply:r.supply,receive(t,e){e.preventDefault(),r.receive(t,e)}},n)}))}function l(t){return p(((e,n)=>{const r=s(e);return t({supply:r.supply,receive(t,e){e.stopPropagation(),r.receive(t,e)}},n)}))}export{u as D,c as h,l as s};//# sourceMappingURL=dom-events.fbc8d9ac.js.map
