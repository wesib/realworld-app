import{n as t}from"../proc7ts/primitives.7b24aae7.js";import{S as e}from"../proc7ts/supply.9762ee6d.js";import{C as s,O as n,o as r}from"../proc7ts/fun-events.0c993baf.js";const p=r(t);function o(t){const e=(e,n)=>{const r=s(e),{supply:p}=r;return p.isOff||t(r,n),p};return e[n]=p[n],e.do=p.do,e.then=p.then,e}const i={onRecurrent:t};class u{constructor(t){this.supply=new e,this._target=t}on(t){return o(((e,s)=>{const{supply:n}=e;if(n.needs(this),!n.isOff){const n=t=>e.receive(i,t);this._target.addEventListener(t,n,s),e.supply.whenOff((()=>this._target.removeEventListener(t,n)))}}))}dispatch(t){return!this.supply.isOff&&this._target.dispatchEvent(t)}}function c(t=!0){return t?a:f}function a(t){return o(((e,s)=>null==s?t(e,{passive:!0}):"boolean"==typeof s?t(e,{capture:s,passive:!0}):null==s.passive?t(e,{...s,passive:!0}):t(e,s)))}function f(t){return o(((e,n)=>{const r=s(e);return t({supply:r.supply,receive(t,e){e.preventDefault(),r.receive(t,e)}},n)}))}function l(t){return o(((e,n)=>{const r=s(e);return t({supply:r.supply,receive(t,e){e.stopPropagation(),r.receive(t,e)}},n)}))}export{u as D,c as h,l as s};//# sourceMappingURL=dom-events.ba8d072f.js.map
