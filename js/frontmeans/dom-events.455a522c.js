import{S as e,n as t}from"../proc7ts/primitives.ada6e792.js";import{H as s,O as n,f as r}from"../proc7ts/fun-events.3d56e7e0.js";const i=r(t);function p(e){const t=(t,n)=>{const r=s(t),{supply:i}=r;return i.isOff||e(r,n),i};return t[n]=i[n],t.do=i.do,t.then=i.then,t}const o={onRecurrent:t};class u{constructor(t){this.supply=new e,this._target=t}on(e){return p(((t,s)=>{const{supply:n}=t;if(n.needs(this),!n.isOff){const n=e=>t.receive(o,e);this._target.addEventListener(e,n,s),t.supply.whenOff((()=>this._target.removeEventListener(e,n)))}}))}dispatch(e){return!this.supply.isOff&&this._target.dispatchEvent(e)}}function a(e=!0){return e?c:f}function c(e){return p(((t,s)=>null==s?e(t,{passive:!0}):"boolean"==typeof s?e(t,{capture:s,passive:!0}):null==s.passive?e(t,{...s,passive:!0}):e(t,s)))}function f(e){return p(((t,n)=>{const r=s(t);return e({supply:r.supply,receive(e,t){t.preventDefault(),r.receive(e,t)}},n)}))}function l(e){return p(((t,n)=>{const r=s(t);return e({supply:r.supply,receive(e,t){t.stopPropagation(),r.receive(e,t)}},n)}))}export{u as D,a as h,l as s};//# sourceMappingURL=dom-events.455a522c.js.map
