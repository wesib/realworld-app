{"version":3,"file":"layout.5b1feea4.js","sources":["../../../src/common/layout/main.component.ts","../../../src/common/layout/navbar.component.ts","../../../src/common/layout/container.component.ts","../../../src/common/layout/footer.component.ts","../../../src/common/layout/conduit-layout-support.feature.ts"],"sourcesContent":["import { IncludePage } from '@wesib/generic';\nimport { BootstrapWindow, Component } from '@wesib/wesib';\nimport { LoaderComponent } from '../../generic/loader';\nimport { Conduit__NS } from '../conduit.ns';\n\n@Component(\n    ['main', Conduit__NS],\n    {\n      feature: {\n        needs: LoaderComponent,\n      },\n    },\n    IncludePage({\n      onResponse({ context, response, range }) {\n        if (!response.ok) {\n          range.deleteContents();\n\n          const { document } = context.get(BootstrapWindow);\n          const loader = document.createElement('conduit-loader');\n\n          if (response.ok != null) {\n            loader.setAttribute('load-error', `Error. ${String(response.error)}`);\n          }\n\n          range.insertNode(loader);\n        }\n      },\n    }),\n)\nexport class MainComponent {}\n","import { ActivateNavLink, HandleNavLinks } from '@wesib/generic';\nimport { Component } from '@wesib/wesib';\nimport { Conduit__NS } from '../conduit.ns';\n\n@Component(\n    ['navbar', Conduit__NS],\n    HandleNavLinks(),\n    ActivateNavLink({ active: 'active' }),\n)\nexport class NavbarComponent {\n}\n","import { Component, ComponentContext, DefaultNamespaceAliaser, ElementRender, Render } from '@wesib/wesib';\nimport { css__naming, QualifiedName } from 'namespace-aliaser';\nimport { Authentication, AuthService } from '../auth';\nimport { Conduit__NS } from '../conduit.ns';\nimport { MainComponent } from './main.component';\nimport { NavbarComponent } from './navbar.component';\n\nconst authenticatedClassQName: QualifiedName = ['authenticated', Conduit__NS];\nconst notAuthenticatedClassQName: QualifiedName = ['not-authenticated', Conduit__NS];\n\n@Component({\n  name: ['container', Conduit__NS],\n  feature: {\n    needs: [MainComponent, NavbarComponent],\n  },\n})\nexport class ContainerComponent {\n\n  private _auth: Authentication = {};\n\n  constructor(private readonly _context: ComponentContext) {\n    _context.whenOn(connectSupply => {\n      _context.get(AuthService).authentication.tillOff(connectSupply)(auth => {\n        this.auth = auth;\n      });\n    });\n  }\n\n  get auth(): Authentication {\n    return this._auth;\n  }\n\n  set auth(value: Authentication) {\n\n    const prev = this._auth;\n\n    this._auth = value;\n    this._context.updateState('auth', value, prev);\n  }\n\n  @Render()\n  render(): ElementRender {\n\n    const nsAlis = this._context.get(DefaultNamespaceAliaser);\n    const authenticatedClass = css__naming.name(authenticatedClassQName, nsAlis);\n    const notAuthenticatedClass = css__naming.name(notAuthenticatedClassQName, nsAlis);\n    const { classList }: Element = this._context.element;\n\n    return () => {\n      if (this.auth.token) {\n        classList.remove(notAuthenticatedClass);\n        classList.add(authenticatedClass);\n      } else {\n        classList.remove(authenticatedClass);\n        classList.add(notAuthenticatedClass);\n      }\n    };\n  }\n\n}\n","import { HandleNavLinks } from '@wesib/generic';\nimport { Component } from '@wesib/wesib';\nimport { Conduit__NS } from '../conduit.ns';\n\n@Component(\n    ['footer', Conduit__NS],\n    HandleNavLinks(),\n)\nexport class FooterComponent {\n}\n","import { Feature } from '@wesib/wesib';\nimport { ContainerComponent } from './container.component';\nimport { FooterComponent } from './footer.component';\n\n@Feature({\n  needs: [\n    ContainerComponent,\n    FooterComponent,\n  ],\n})\nexport class ConduitLayoutSupport {\n}\n"],"names":["MainComponent","Component","Conduit__NS","feature","needs","LoaderComponent","IncludePage","[object Object]","context","response","range","ok","deleteContents","document","get","BootstrapWindow","loader","createElement","setAttribute","String","error","insertNode","NavbarComponent","HandleNavLinks","ActivateNavLink","active","authenticatedClassQName","notAuthenticatedClassQName","ContainerComponent","_context","this","whenOn","connectSupply","AuthService","authentication","tillOff","auth","_auth","value","prev","updateState","nsAlis","DefaultNamespaceAliaser","authenticatedClass","css__naming","name","notAuthenticatedClass","classList","element","token","remove","add","__decorate","Render","FooterComponent","ConduitLayoutSupport","Feature"],"mappings":"oXA6BA,IAAaA,EAAb,QAAaA,KAxBZC,EACG,CAAC,OAAQC,GACT,CACEC,QAAS,CACPC,MAAOC,IAGXC,EAAY,CACVC,YAAWC,QAAEA,EAAOC,SAAEA,EAAQC,MAAEA,IAC9B,IAAKD,EAASE,GAAI,CAChBD,EAAME,iBAEN,MAAMC,SAAEA,GAAaL,EAAQM,IAAIC,GAC3BC,EAASH,EAASI,cAAc,kBAEnB,MAAfR,EAASE,IACXK,EAAOE,aAAa,aAAc,UAAUC,OAAOV,EAASW,UAG9DV,EAAMW,WAAWL,SAKdhB,GCpBb,IAAasB,EAAb,QAAaA,KALZrB,EACG,CAAC,SAAUC,GACXqB,IACAC,EAAgB,CAAEC,OAAQ,aAEjBH,SCFPI,EAAyC,CAAC,gBAAiBxB,GAC3DyB,EAA4C,CAAC,oBAAqBzB,GAQxE,IAAa0B,EAAb,MAIErB,YAA6BsB,GAAAC,cAAAD,EAFrBC,WAAwB,GAG9BD,EAASE,OAAOC,IACdH,EAASf,IAAImB,GAAaC,eAAeC,QAAQH,EAAjDH,CAAgEO,IAC9DN,KAAKM,KAAOA,MAKlBA,WACE,OAAON,KAAKO,MAGdD,SAASE,GAEP,MAAMC,EAAOT,KAAKO,MAElBP,KAAKO,MAAQC,EACbR,KAAKD,SAASW,YAAY,OAAQF,EAAOC,GAI3ChC,SAEE,MAAMkC,EAASX,KAAKD,SAASf,IAAI4B,GAC3BC,EAAqBC,EAAYC,KAAKnB,EAAyBe,GAC/DK,EAAwBF,EAAYC,KAAKlB,EAA4Bc,IACrEM,UAAEA,GAAuBjB,KAAKD,SAASmB,QAE7C,MAAO,KACDlB,KAAKM,KAAKa,OACZF,EAAUG,OAAOJ,GACjBC,EAAUI,IAAIR,KAEdI,EAAUG,OAAOP,GACjBI,EAAUI,IAAIL,OAbpBM,GADCC,gCAxBUzB,KANZ3B,EAAU,CACT4C,KAAM,CAAC,YAAa3C,GACpBC,QAAS,CACPC,MAAO,CAACJ,EAAesB,OAGdM,GCRb,IAAa0B,EAAb,QAAaA,KAJZrD,EACG,CAAC,SAAUC,GACXqB,MAES+B,OCEAC,EAAb,QAAaA,KANZC,EAAQ,CACPpD,MAAO,CACLwB,EACA0B,MAGSC"}