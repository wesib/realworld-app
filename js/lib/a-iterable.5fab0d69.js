import{a as r,n as t,i as n,N as e}from"./call-thru.00f7427a.js";function o(r){return"length"in r}function s(r){return"reverse"in r}function u(r){return r[Symbol.iterator]()}function i(r){return function*(){yield*r}()}function f(r,t){const n={[Symbol.iterator]:r};if(!t)return n;const e=n;return e.reverse=t,e}function c(r){if(o(r))return a(r);if(s(r)){const t=r.reverse();return f(()=>u(t))}return a(Array.from(r))}function a(r){return f((function*(){for(let t=r.length-1;t>=0;--t)yield r[t]}))}function l(r,t){for(const n of r)t(n)}function h(r){return!!u(r).next().done}function y(r,t){for(const n of r)if(!t(n))return!1;return!0}function m(r){return u(r).next().value}function v(r){if(o(r))return r[r.length-1];if(s(r))return m(r.reverse());let t;for(const n of r)t=n;return t}function d(r,t,n){let e=n;for(const n of r)e=t(e,n);return e}function p(r,t){return f((function*(){for(const n of r)t(n)&&(yield n)}))}function b(t,n=r){return f((function*(){for(const r of t)yield*n(r)}))}function g(r,t){return f((function*(){for(const n of r)yield t(n)}))}function S(o,...s){let u=[];const i=r=>{const o=r>=s.length,f=++r<s.length?s[r]:t,c=(t,s)=>{n(t)?t[e](i(r),f):o?u.push([s]):i(r).pass(f,t)};return{call(r,t){c(r(...t),t)},pass(r,t){c(r(t),t)},skip(){},iterate(r,t){u.push({*[Symbol.iterator](){for(const n of t){const t=u,e=[];try{u=e,c(r(n),n)}finally{u=t}for(const r of e)yield*r}}})}}};return i(0).iterate(s[0],o),b(u,r)}const x=["every","filter","flatMap","forEach","map","reduce","reverse","some"];class w{static none(){return j}static is(r){return x.every(t=>t in r)}static of(r){return w.is(r)?r:w.from(r)}static from(r){return k(()=>r,()=>c(r))}every(r){return y(this,r)}filter(r){return k(()=>p(this,r),()=>p(this.reverse(),r))}flatMap(r){return k(()=>b(this,r),()=>b(this.reverse(),t=>c(r(t))))}forEach(r){l(this,r)}map(r){return k(()=>g(this,r),()=>g(this.reverse(),r))}reduce(r,t){return d(this,r,t)}reverse(){return k(()=>a(Array.from(this)),()=>this)}some(r){return function(r,t){for(const n of r)if(t(n))return!0;return!1}(this,r)}thru(...r){const t=S;return k(()=>t(this,...r))}}class A extends w{*[Symbol.iterator](){}reverse(){return this}}const j=new A;function k(r,t){return new class extends w{[Symbol.iterator](){return u(r())}reverse(){return t?w.from(f(()=>u(t()),()=>this)):super.reverse()}}}function E(r){return f((function*(){for(let t=0;t<r.length;++t)yield r[t]}),()=>a(r))}const M={*[Symbol.iterator](){},reverse(){return this}};function K(){return M}function N(r){const t=function(r){return E(Reflect.ownKeys(r))}(r);function n(t){return g(t,t=>[t,r[t]])}return f(()=>u(n(t)),()=>n(t.reverse()))}export{w as A,E as a,h as b,d as c,p as d,l as e,b as f,u as g,m as h,v as i,N as j,y as k,i as l,g as m,K as o,S as t};//# sourceMappingURL=a-iterable.5fab0d69.js.map
