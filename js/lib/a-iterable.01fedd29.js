import{a as r,d as t,i as e,N as n}from"./call-thru.3be1c170.js";function o(r){return"length"in r}function s(r){return"reverse"in r}function u(r){return r[Symbol.iterator]()}function i(r){return function*(){yield*r}()}function f(r,t){const e={[Symbol.iterator]:r};if(!t)return e;const n=e;return n.reverse=t,n}function c(r){if(o(r))return a(r);if(s(r)){const t=r.reverse();return f(()=>u(t))}return a(Array.from(r))}function a(r){return f((function*(){for(let t=r.length-1;t>=0;--t)yield r[t]}))}function l(r,t){for(const e of r)t(e)}function h(r){return!!u(r).next().done}function y(r,t){for(const e of r)if(!t(e))return!1;return!0}function m(r){return u(r).next().value}function v(r){if(o(r))return r[r.length-1];if(s(r))return m(r.reverse());let t;for(const e of r)t=e;return t}function d(r,t,e){let n=e;for(const e of r)n=t(n,e);return n}function p(r,t){return f((function*(){for(const e of r)t(e)&&(yield e)}))}function b(t,e=r){return f((function*(){for(const r of t)yield*e(r)}))}function g(r,t){return f((function*(){for(const e of r)yield t(e)}))}function S(o,...s){let u=[];const i=r=>{const o=r>=s.length,f=++r<s.length?s[r]:t,c=(t,s)=>{e(t)?t[n](i(r),f):o?u.push([s]):i(r).pass(f,t)};return{call(r,t){c(r(...t),t)},pass(r,t){c(r(t),t)},skip(){},iterate(r,t){u.push({*[Symbol.iterator](){for(const e of t){const t=u,n=[];try{u=n,c(r(e),e)}finally{u=t}for(const r of n)yield*r}}})}}};return i(0).iterate(s[0],o),b(u,r)}const x=["every","filter","flatMap","forEach","map","reduce","reverse","some"];class w{static none(){return j}static is(r){return x.every(t=>t in r)}static of(r){return w.is(r)?r:w.from(r)}static from(r){return k(()=>r,()=>c(r))}every(r){return y(this,r)}filter(r){return k(()=>p(this,r),()=>p(this.reverse(),r))}flatMap(r){return k(()=>b(this,r),()=>b(this.reverse(),t=>c(r(t))))}forEach(r){l(this,r)}map(r){return k(()=>g(this,r),()=>g(this.reverse(),r))}reduce(r,t){return d(this,r,t)}reverse(){return k(()=>a(Array.from(this)),()=>this)}some(r){return function(r,t){for(const e of r)if(t(e))return!0;return!1}(this,r)}thru(...r){const t=S;return k(()=>t(this,...r))}}class A extends w{*[Symbol.iterator](){}reverse(){return this}}const j=new A;function k(r,t){return new class extends w{[Symbol.iterator](){return u(r())}reverse(){return t?w.from(f(()=>u(t()),()=>this)):super.reverse()}}}function E(r){return f((function*(){for(let t=0;t<r.length;++t)yield r[t]}),()=>a(r))}const M={*[Symbol.iterator](){},reverse(){return this}};function K(){return M}function N(r){const t=function(r){return E(Reflect.ownKeys(r))}(r);function e(t){return g(t,t=>[t,r[t]])}return f(()=>u(e(t)),()=>e(t.reverse()))}export{w as A,E as a,d as b,p as c,y as d,i as e,b as f,u as g,m as h,l as i,v as j,K as k,h as l,g as m,N as o,S as t};//# sourceMappingURL=a-iterable.01fedd29.js.map
