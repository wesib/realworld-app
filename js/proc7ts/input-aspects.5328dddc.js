import{n as t,v as s,a as e,i as n,b as r}from"./primitives.4ad0c7ad.js";import{b as i,f as o,c as a,i as c,o as u,d as h,e as l,P as p,a as d,m as _,g as f,h as m,j as y,k as g,l as v,n as b}from"./push-iterator.5fa79126.js";import{n as w,b as k,a as T}from"./call-thru.3c1511df.js";import{V as A,E as F,h as x,t as O,i as j,j as E,g as M,O as S,A as C,b as D,D as R,d as I,f as z,k as B,l as N,a as q,m as P,p as L,q as V}from"./fun-events.14fbfae8.js";import{N as G,i as H,c as J,n as K}from"./namespace-aliaser.2dce15f3.js";import{n as Q}from"./render-scheduler.7e701f35.js";import{D as U}from"./delta-set.664566ad.js";const W=Symbol("in-aspect"),X={instance:null,convertTo:t};function Y(t,s,e,n,r){return void 0===n&&(n=e(t,r)),{instance:n,convertTo:n=>Y(n,s,e,void 0,t),attachTo:n=>Y(n,s,e,t.aspect(s)||e(n))}}function Z(t,e,n=null){return Y(t,e,s(null),n)}function $(t){return{instance:t,convertTo(){return this}}}const tt=new G("https://surol.github.io/input-aspects/ns","inasp","input-aspects"),st={applyTo:()=>$(K())},et={get[W](){return st},to:t=>({applyAspect:s=>s===st?$(t):void 0})},nt={applyTo:()=>$(Q)},rt={get[W](){return nt},to:t=>({applyAspect:s=>s===nt?$(t):void 0})};function it(s,...e){if(!s)return ct;const r=ut(s);if(!e.length)return r;const c=e.map(ut);return(s,e)=>{const u=r(s,e),h=i([u],o(c.map((t=>t(s,e))),n)),l=a(h,((t,s)=>s.applyAspect?e=>t(e)||s.applyAspect(e):t),t);return function(t){return!t.set}(u)?{applyAspect:l}:{set:u.set.bind(u),get:u.get.bind(u),applyAspect:l}}}function ot(t){return t?(s=t,Array.isArray(s)?it(...t):it(t)):it();var s}const at={applyAspect(){}};function ct(){return at}function ut(t){return"function"==typeof t?t:s(t)}class ht extends A{constructor(){super(...arguments),this._aspects=new Map}aspect(t){return this._aspect(t[W]).instance}setup(s,e=t){return W in s?e(this.aspect(s),this):s(this),this}convert(t,...s){return new lt(this,it(t,...s))}_aspect(t){const s=this._aspects.get(t);if(s)return s;const e=this._applyAspect(t)||t.applyTo(this);return this._aspects.set(t,e),e}_applyAspect(t){}}class lt extends ht{constructor(t,s){super(),this._on=new F,this._supply=x().needs(t);let n,r=0;const i=s(t,this);let o,a,c;!function(t){return!t.set}(i)?(o=i.set,a=i.get,c=s=>t._aspect(s).convertTo(this)):(o=e,a=e,c=s=>{const e=t._aspect(s);return e.attachTo?e.attachTo(this):e.convertTo(this)}),this._applyAspect=t=>{var s;return(null===(s=i.applyAspect)||void 0===s?void 0:s.call(i,t))||c(t)},this._it=O([o(t.it),0]),j(this._it).needs(this._supply),this._it.on((([t],[s])=>{t!==s&&this._on.send(t,s)})).cuts(this._on),t.on((t=>{t!==n&&(this._it.it=[o(t),++r])})).cuts(this),this._it.on((([s,e])=>{if(e!==r){r=e,n=a(s);try{t.it=n}finally{n=void 0}}}))}get[E](){return this._supply}get it(){return this._it.it[0]}set it(t){const[s,e]=this._it.it;t!==s&&(this._it.it=[t,e+1])}on(t){return(this.on=this._on.on().F)(t)}}class pt extends ht{constructor(t){super(),this._control=t}get[E](){return this._supply||(this._supply=x().needs(this._control))}get it(){return this._control.it}set it(t){this._control.it=t}on(t){return(this.on=this._control.on().F)(t)}}class dt extends ht{constructor({aspects:t}){super(),this._aspectConversion=ot(t)(new pt(this),this)}_applyAspect(t){return this._aspectConversion.applyAspect(t)||super._applyAspect(t)}}const _t={applyTo:t=>Z(t,ft)};class ft extends dt{static get[W](){return _t}_applyAspect(t){return t===_t?Z(this,ft,this):super._applyAspect(t)}}class mt{[S](){return this.on()}[C](){return this.read()}}const yt={applyTo:t=>$(new vt(t))};class gt{static get[W](){return yt}[S](){return this.on()}[C](){return this.read()}}class vt extends gt{constructor(t){super(),this._control=t,this._map=new Map,this._on=new F,j(this._on).needs(this._control)}add(t){const s=this._map.get(t);if(s)return s;const e=x((()=>{this._map.delete(t),this._on.send([],[t])}));return this._map.set(t,e),this._on.send([t],[]),e.needs(this._control).needs(t.parent)}on(t){return(this.on=this._on.on().F)(t)}read(t){const s=()=>this._map.keys();return(this.read=I(this.on().thru(s),(()=>[s()])).F)(t)}}const bt={applyTo:t=>Z(t,wt)};class wt extends dt{static get[W](){return bt}_applyAspect(t){return t===bt?Z(this,wt,this):super._applyAspect(t)}}const kt={applyTo:t=>Y(t,Tt,(t=>new xt(t)))};class Tt{static get[W](){return kt}[S](){return this.on()}[C](){return this.read()}static hasData(t){return"off"!==t&&"-"!==t[0]}done(t){return this.own.done(t),this}}class At extends A{constructor(t){super(),this._tracker=O(t?function(t){return null!=t.getAttribute("disabled")?"off":null!=t.getAttribute("readonly")?"ro":"on"}(t.element):"on")}get[E](){return j(this._tracker)}get it(){return this._tracker.it}set it(t){switch(t){case"off":case"ro":case"-on":case"-ro":break;default:t="on"}this._tracker.it=t}on(t){return(this.on=this._tracker.on().F)(t)}}class Ft{constructor(){this._all=new Set,this._on=new F;const t=I(this._on.on().thru((()=>this._all)),r(this._all));this.read=t.keepThru((t=>D(N(...t))),jt)}add(t){const s=x((()=>{this._all.delete(t),this._on.send()}));return this._all.add(t),this._on.send(),s}}class xt extends Tt{constructor(t){super(),this._control=t,this._derived=new Ft;const s=t.aspect(wt);this.own=new At(s),j(this.own).needs(t),this.derive(t.aspect(gt).read().keepThru_(Ot)),s&&this.read((t=>function(t,s){switch(s){case"off":t.setAttribute("disabled","");break;case"ro":case"-ro":t.setAttribute("disabled",""),t.removeAttribute("disabled"),t.setAttribute("readonly","");break;default:t.setAttribute("disabled",""),t.removeAttribute("disabled"),t.setAttribute("readonly",""),t.removeAttribute("readonly")}}(s.element,t)))}read(t){let s="on";return(this.read=I(M({derived:this._derived.read,own:this.own}).thru((({derived:[t],own:[e]})=>{let n;if("off"===e||"off"===t)n="off";else{let s=!1;"-"===e[0]&&(s=!0,e=e.substring(1)),"-"===t[0]&&(s=!0,t=t.substring(1)),n="ro"===t?"ro":e,s&&(n="-"+n)}return s===n?T():w(s=n)})),r(s)).F)(t)}on(t){let s="on";return(this.on=this.read().thru((t=>{const e=s;return e===t?T():w(s=t,e)})).F)(t)}derive(t){return this._derived.add(z(B(t)?t:t(this._control)).tillOff(this._control)).needs(this._control)}}function Ot(t){const s=h(t);if(!s.length)return w("on");const e=s.map((({parent:t})=>t.aspect(Tt)));return D(N(...e).keepThru_(jt))}function jt(...t){return Et(...i(...t))}function Et(...t){let s=!1,e=!1;for(const n of t)switch(n){case"off":return"off";case"ro":s=!0;break;case"-on":e=!0;break;case"-ro":e=!0,s=!0}return e?s?"-ro":"-on":s?"ro":"on"}const Mt={applyTo:t=>Y(t,St,(t=>M({value:t,mode:t.aspect(Tt)}).keepThru((({value:[t],mode:[s]})=>Tt.hasData(s)?w(t):w()))))},St={get[W](){return Mt}},Ct={applyTo:t=>Z(t,Dt)};class Dt extends ft{static get[W](){return Ct}_applyAspect(t){return t===Ct?Z(this,Dt,this):super._applyAspect(t)}}class Rt extends mt{remove(t){this.set(t,void 0)}}const It={};class zt{constructor(t){this._map=t,this._it=_(g((()=>this._map.values())),(([t])=>t)),this._entriesIt=_(this._map,(([t,[s]])=>[t,s]))}get(t){const s=this._map.get(t);return s&&s[0]}[Symbol.iterator](){return this[p]()}[p](t){return this._it[p](t)}entries(){return v(this._entriesIt)}}class Bt{constructor(t){this._controls=t,this._supply=x(),this._map=new Map}set(t,s,e,n){const r=this._map.get(t);let i;if(s){i=x();const o=this.newEntry(t,s,i);let a=!0;r&&(r[0]===s?a=!1:n.push([t,r])),a?(this.modify().set(t,o),e.push([t,o])):this._map.set(t,o)}else i=L(),r&&(n.push([t,r]),this.modify().delete(t));return r&&r[1].off(It),i}newEntry(t,s,e){return[s,x((s=>{s!==It&&this._controls.remove(t)})).needs(this._supply).needs(e).whenOff((t=>e.off(t===It?void 0:t)))]}modify(){if(this._shot){const t=new Map;c(this._map.entries(),(([s,e])=>t.set(s,e))),this._shot=void 0,this._map=t}return this._map}snapshot(){return this._shot||(this._shot=new zt(this._map))}clear(){const t=[],s=[];return c(this._map.keys(),(e=>this.set(e,void 0,t,s))),s}}class Nt extends Rt{constructor(t){super(),this._group=t,this._updates=new F;this._map=new Bt(this),this._map._supply.needs(t.read((t=>{this.read().once((s=>{const e=new Set;c(u(t),(([t,n])=>{e.add(t);const r=s.get(t);r&&(r.it=n)})),c(s.entries(),(([t,s])=>{e.has(t)||(s.it=void 0)}))}))})))}on(t){return(this.on=this._updates.on().thru(((t,s)=>w(t.map(qt),s.map(qt)))).F)(t)}read(t){return(this.read=I(this._updates.on().thru((()=>this._map.snapshot())),(()=>[this._map.snapshot()])).F)(t)}set(t,s){const e=this._group,n=[],r=[];let i;return"object"==typeof t?(i=x(),c(u(t),(([t,s])=>{this._map.set(t,s,n,r).needs(i)}))):i=this._map.set(t,s,n,r),(n.length||r.length)&&(this._updates.send(n,r),n.length&&function(){let t;n.forEach((s=>{const[n,[r,i]]=s;r.aspect(gt).add({parent:e}).needs(i).cuts(i);const o=r.it;if(t)t[n]=o;else{const s=e.it;s[n]!==o&&(t={...s,[n]:o})}})),t&&(e.it=t);n.forEach((t=>{const[s,[n,r]]=t;n.read().tillOff(r).to((t=>{e.it[s]!==t&&(e.it={...e.it,[s]:t})})).cuts(r)}))}()),i}clear(){const t=this._map.clear();t.length&&this._updates.send([],t)}}function qt([t,[s]]){return[t,s]}class Pt extends Dt{constructor(t,s){super(s),this._model=O(t),this.controls=new Nt(this),j(this).whenOff((()=>this.controls.clear()))}get[E](){return j(this._model)}get it(){return this._model.it}set it(t){this._model.it=t}on(t){return(this.on=this._model.on().F)(t)}_applyAspect(s){return s===St[W]?{instance:(e=this,M({cs:e.controls,model:e,mode:e.aspect(Tt)}).keepThru_(Lt)),convertTo:t}:super._applyAspect(s);var e}}function Lt({cs:[t],model:[s],mode:[e]}){if(!Tt.hasData(e))return w();const n={};return c(t.entries(),(([t,s])=>{n[t]=s.aspect(St)})),D(M(n).keepThru((t=>{const e={...s};return c(u(t),(t=>{const[s,[n]]=t;e[s]=n})),k(e)})))}function Vt(t,{aspects:s}={}){return new Pt(t,{aspects:s})}const Gt=q();function Ht(){return Gt}function Jt(t){return B(t)?s(z(t)):"function"==typeof t?s=>z(t(s)):s=>s.read().keepThru(function(t,s){return()=>{const e=s.validate(t);return null==e?w():Array.isArray(e)?w(...e):w(e)}}(s,t))}const Kt={};class Qt{constructor(s){const e=new F,n=new Map,i=new Map;let o=t,a=t;this._messages=P((s=>{const u=z(e,r()).to(s).whenOff((()=>{o=t,a=t}));a=(t,s)=>{const e=t.to(((...s)=>{if(s.length)i.set(t,s);else if(!i.delete(t))return;o()})).needs(s).whenOff((e=>{e!==Kt&&s.off(e),i.delete(t)&&o()}));u.whenOff((()=>e.off(Kt)))},c(n.entries(),(([t,s])=>a(t,s))),o=()=>{e.send(...b(i.values()))},i.size&&o()})).share().tillOff(s),this.from=t=>{const e=Jt(t)(s),r=x((()=>{n.delete(e)}));return n.set(e,r),a(e,r),r.needs(s)}}[C](){return this._messages}}const Ut={applyTo:t=>Y(t,Wt,((t,s)=>{const e=new $t(t);if(s){const t=s.aspect(Wt);e.by(t.read().keepThru((t=>w(...t.messages()))))}return e}))};class Wt{static get[W](){return Ut}[C](){return this.read()}}const Xt={get ok(){return!0},messages:()=>[],has:()=>!1,hasBut:()=>!1,[Symbol.iterator]:()=>l(),[p]:t=>l()};class Yt{constructor(t){this._byCode=new Map,this._all=[],this._it=d(this._all),t.forEach((t=>{let s=!1;c(u(t),(([e,n])=>{if(n){s=!0;const n=this._byCode.get(e);n?n.push(t):this._byCode.set(e,[t])}})),s&&this._all.push(t)}))}get ok(){return!this._all.length}messages(t){return null==t?this._all:this._byCode.get(t)||[]}has(t){return null==t||this._byCode.has(t)}hasBut(...t){return this._all.some((s=>t.every((t=>!s[t]))))}[Symbol.iterator](){return this[p]()}[p](t){return this._it[p](t)}}function Zt(...t){return t.length?new Yt(t):Xt}class $t extends Wt{constructor(t){super(),this._messages=new Qt(t);const s=t.aspect(ft);s&&this._messages.from(function(t){return t.controls.read().keepThru(ts,ss)}(s))}by(...t){return this._messages.from(function(...t){const s=t.length;return 1===s?t[0]:s?s=>{const e=new Qt(s);return t.forEach((t=>e.from(t))),e}:Ht}(...t))}read(t){return(this.read=z(this._messages).keepThru(Zt).F)(t)}}function ts(t){return D(N(..._(t,(t=>t.aspect(Wt)))))}function ss(...t){return w(...f(t,(([t])=>t)))}function es(t){return t?t.read().keepThru((t=>t?w():{missing:"missing"})):es}const ns={applyTo:t=>Y(t,os,(t=>new as(t)))};class rs extends Error{constructor(...t){super(),this.errors=Zt(...t.map((t=>t.submit?t:{...t,submit:!0})))}}class is extends rs{constructor(t){super({submit:"rejected",rejected:t,[t]:!0})}}class os{static get[W](){return ns}[C](){return this.read()}}class as extends os{constructor(t){super(),this._control=t,this._flags=O({submitted:!1,busy:!1}),this._errors=O([]);t.aspect(Wt).by(this._errors.read().keepThru((t=>w(...t))))}read(t){return(this.read=M({flags:this._flags,data:this._control.aspect(St),messages:this._control.aspect(Wt)}).tillOff(this._control).keepThru((({flags:[t],data:[s],messages:[e]})=>({ready:void 0!==s&&(e.ok||m(e,(t=>t.submit))),submitted:t.submitted,busy:t.busy}))).F)(t)}async submit(t){if(j(this._control).isOff)throw new is("noInput");if(this._flags.it.busy)throw new is("busy");const s=this,e=this._control;let n;this._flags.it={...this._flags.it,submitted:!0,busy:!0};try{return this._errors.it.length&&(this._errors.it=[]),await t(await new Promise(((t,n)=>{M({data:e.aspect(St),flags:s}).once((({data:[s],flags:[{ready:e}]})=>{e?t(s):n(new is("notReady"))}))})),e)}catch(t){throw n=function(t){if(t instanceof rs)return[...t.errors];return[{submit:t}]}(t),t}finally{this._flags.it={...this._flags.it,busy:!1},n&&(this._errors.it=n)}}reset(){const t=this._flags.it;t.submitted&&(this._flags.it={...t,submitted:!1}),this._errors.it.length&&(this._errors.it=[])}}function cs(t,{notReady:s="on",invalid:e="on",busy:n="ro"}={}){return t.aspect(os).read().keepThru((t=>Et(t.busy?n:"on",t.ready?"on":t.submitted?e:s)))}function us({invalid:t="-on",ignore:s="submit"}={}){return e=>e.aspect(Wt).read().keepThru((e=>e.hasBut(..."string"==typeof s?[s]:s)?t:"on"))}class hs extends wt{constructor(t,{aspects:s,get:e,set:n}){super({aspects:s}),this.element=t,this._input=new F;const r=this;this._get=e,this._set=n,this._value=this.it;const i=this._update=(t,s)=>o({value:t},s);function o(t,s){for(;;){let e;r._value=t.value,r._update=(s,n)=>{e=[{...t,value:s},n]};try{r._input.send(t,s)}finally{r._update=i}if(!e)break;[t,s]=e}}this.events=new R(t),j(this.events).needs(this),this.listenForInput((t=>o(t,this._value)))}get[E](){return j(this._input)}get it(){return this._get()}set it(t){const s=this.it;t!==s&&(this._set(t),this._update(this._get(),s))}input(t){return(this.input=I(this._input.on().thru(e),(()=>[{value:this.it}])).F)(t)}on(t){return(this.on=this._input.on().thru((({value:t},s)=>t===s?T():w(t,s))).F)(t)}listenForInput(t){const s=s=>t({value:this.it,event:s});this.events.on("input").to(s),this.events.on("change").to(s)}}function ls(t,{aspects:s}={}){return new hs(t,{get(){return this.element.value},set(t){this.element.value=t},aspects:s})}const ps={applyTo:t=>Y(t,ds,(t=>{const s=t.aspect(wt);return s&&new _s(s)}))};class ds extends A{static get[W](){return ps}}class _s extends ds{constructor(s){super();const{element:e,events:n}=s,r=e.getRootNode?e.getRootNode():e.ownerDocument;this._it=O(r.activeElement===e),j(this).needs(s),n.on("focus").to((()=>this._it.it=!0)),n.on("blur").to((()=>this._it.it=!1)),this.on({receive(s,n){s.onRecurrent(t),n?e.focus():e.blur()}})}get[E](){return j(this._it)}get it(){return this._it.it}set it(t){this._it.it=t}on(t){return(this.on=this._it.on().F)(t)}}const fs={applyTo:t=>Y(t,ms,(t=>{const s=t.aspect(ft);return null!=s?new vs(s):new gs(t)}))};class ms{static get[W](){return fs}[C](){return this.read()}}const ys={hasFocus:!1,touched:!1,edited:!1};class gs extends ms{constructor(t){super(),this._flags=O(ys),j(this._flags).needs(t),this._flags.by(function(t,s){const e=s.aspect(wt),n=s.aspect(ds);return M({hasFocus:n||q(!1),edited:e?e.input().keepThru((({event:t})=>!!t)):q(!1)}).keepThru((({hasFocus:[s],edited:[e]})=>function(t,s,e){t=s?{...t,hasFocus:s,touched:!0}:{...t,hasFocus:s};e&&(t={...t,edited:e,touched:!0});return t}(t.it,s,e)))}(this._flags,t))}read(t){return(this.read=this._flags.read().F)(t)}markTouched(t=!0){const s=this._flags.it;return t?s.touched||(this._flags.it={...s,touched:t}):s.touched&&(this._flags.it={...s,touched:s.hasFocus,edited:!1}),this}markEdited(t=!0){const s=this._flags.it;return t?s.edited||(this._flags.it={...s,touched:!0,edited:t}):s.edited&&(this._flags.it={...s,edited:t}),this}}class vs extends ms{constructor(t){super(),this._container=t}read(t){return(this.read=(s=this._container,s.controls.read().tillOff(s).keepThru_((t=>D(N(...function(t){return _(t,(t=>t.aspect(ms)))}(t)))),bs)).F)(t);var s}markEdited(t){return this._container.controls.read().once((s=>c(s,(s=>s.aspect(ms).markEdited(t))))),this}markTouched(t){return this._container.controls.read().once((s=>c(s,(s=>s.aspect(ms).markTouched(t))))),this}}function bs(...t){const s={hasFocus:!1,touched:!1,edited:!1};return c(t,(([{hasFocus:t,touched:e,edited:n}])=>{e&&(s.touched=!0),t&&(s.hasFocus=s.touched=!0),n&&(s.edited=s.touched=!0)})),s}function ws(s,e){const{form:n,aspects:r,modes:i}=e,o=new hs(s,{aspects:[ot(r)],get:t,set:t});return j(o).needs(n),o.aspect(Tt).derive(cs(n,i)),o}function ks(s,e){const{form:n,aspects:r,modes:{notReady:i="on",invalid:o="off",busy:a="off"}={}}=e,c=new hs(s,{aspects:[ot(r)],get:t,set:t});return j(c).needs(n),c.aspect(Tt).derive(cs(n,{notReady:i,invalid:o,busy:a})),c}const Ts={applyTo(t){const s=t.aspect(wt);return s?$(s.element):X}},As={get[W](){return Ts},to:(t=null)=>({applyAspect:s=>s===Ts?$(t):void 0})},Fs={applyTo:s=>({instance:new Es(s),convertTo:t})};class xs{static get[W](){return Fs}[C](){return this.read()}}const Os=Symbol("reason");function js(t){return t&&"object"==typeof t&&Os in t}class Es extends xs{constructor(t){super(),this._control=t,this._sources=O([new Map]);const s=t.aspect(As);s&&this.applyTo(s,this.schedule),j(t).whenOff((t=>this.done(t)))}get schedule(){return this._schedule||(this._schedule=Ss(this._control,this._control.aspect(As)))}read(t){return(this.read=this._sources.read().tillOff(this._control).keepThru_((([t])=>D(N(...t.keys()))),((...t)=>{const s={};return t.forEach((([t])=>Ms(t,s))),s})).F)(t)}track(t){return(this.track=P((t=>{t.supply.needs(this._control);const s=new U,e=new V;let n=!1;return e.on(t),this.read((t=>{const r=new Set(s),i=[];c(y(u(t),(([,t])=>!!t)),(([t])=>{r.delete(t)||i.push(t)})),(!n||i.length||r.size)&&(s.delta(i,r),n=!0,s.redelta(((t,s)=>e.send(t,s))).undelta())}))})).F)(t)}specs(t){return z(B(t)?t:t(this._control))}resolve(t){const s=this._control.aspect(et);return this.specs(t).keepThru(((...t)=>{const e={};return t.forEach((t=>{H(t)?e[J.name(t,s)]=!0:Ms(t,e)})),e}))}add(t){const s=j(this._control);if(s.isOff)return s;const e=x(),n=P((s=>{const n=this.resolve(t).to({receive(t,...e){s.receive(t,...e)}});s.supply.whenOff((t=>{e.off({[Os]:t})})),e.needs(n).whenOff((t=>{js(t)&&n.off(t[Os])}))})).share(),[r]=this._sources.it;return r.set(n,e),e.whenOff((t=>{js(t)||(r.delete(n),this._sources.it=[r])})),this._sources.it=[r],e.needs(s)}applyTo(t,s=Ss(this._control,t)){const{classList:e}=t,n=new U,r=()=>{n.redelta(((t,s)=>{e.remove(...s),e.add(...t)})).undelta()};return this.track(((t,e)=>{n.delta(t,e),s(r)})).whenOff((()=>{n.size&&(n.clear(),s(r))}))}done(t){return c(this._sources.it[0].values(),(s=>s.off(t))),this._sources.done(t),this}}function Ms(t,s){c(u(t),(([t,e])=>{null!=e&&(s[t]=e)}))}function Ss(t,s){return t.aspect(rt)({node:s})}const Cs=[["has-error",tt]];function Ds(t){return!t.ok}function Rs({mark:t,when:s}={}){let e,n;return e=s?Array.isArray(s)?s.length?t=>s.every((s=>t.has(s))):Ds:t=>t.has(s):Ds,n=t?Array.isArray(t)?t.length?t:Cs:[t]:Cs,t=>t.aspect(Wt).read().keepThru((t=>e(t)?w(...n):w()))}function Is({ns:t=tt}={}){return s=>{const e=s=>[s,t];return M({md:s.aspect(Tt),vl:s.aspect(Wt),st:s.aspect(ms)}).keepThru((({md:[t],vl:[s],st:[{hasFocus:n,touched:r,edited:i}]})=>{const o=[];return Tt.hasData(t)||o.push(e("disabled")),"ro"!==t&&"-ro"!==t||o.push(e("readonly")),s.ok||o.push(e("invalid")),s.has("missing")&&o.push(e("missing")),s.has("incomplete")&&o.push(e("incomplete")),n&&o.push(e("has-focus")),r&&o.push(e("touched")),i&&o.push(e("edited")),w(...o)}))}}export{hs as A,rs as I,xs as a,ms as b,Wt as c,As as d,Is as e,ks as f,Vt as g,Tt as h,Rs as i,us as j,ws as k,ht as l,Dt as m,it as n,rt as o,et as p,os as q,ls as r,es as s};//# sourceMappingURL=input-aspects.5328dddc.js.map
