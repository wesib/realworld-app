import{i as n,N as t}from"./call-thru.3c1511df.js";const r=Symbol("push-iterator");function e(n){return!!n[r]}function o(n){return n[Symbol.iterator]()}function u(n){return{[Symbol.iterator]:i,[r]:n}}function i(){return this[r]()}function f(n,t){return!n[r](t).isOver()}function s(n){let t=!1,e=r=>{r&&!n(r)&&(t=!0,e=v)};return{[Symbol.iterator]:c,[r](n){return e(n),this},next:l,isOver:()=>t}}function c(){return this}function l(){for(;;){let n;const t=!f(this,(t=>(n={value:t},!0)));if(n)return n;if(t)return{done:!0}}}function a(){return{done:!0}}function v(n){}const h={[Symbol.iterator]:c,[r](n){return this},next:()=>({done:!0}),isOver:()=>!0};function y(n,t){return n[r](t)}function b(n,t){return n[t]}function p(n){return t=n,e=b,n=>{let o=0;const u=n=>{if(o>=t.length)return!1;for(;;){const r=n(e(t,o++));if(o>=t.length||!1===r)return!1;if(!0===r)return!0}};if(n&&!u(n))return h;let i=!1,f=n=>{n&&!u(n)&&(i=!0,f=v,s=a)},s=()=>o<t.length?{value:e(t,o++)}:(i=!0,f=v,s=a,{done:!0});return{[Symbol.iterator]:c,[r](n){return f(n),this},next:()=>s(),isOver:()=>i}};var t,e}function d(n){return u(p(n))}function g(n,t){if(e(n))return f(n,t);const r=o(n);if(e(r))return f(r,t);for(;;){const n=r.next();if(n.done)return!1;const e=t(n.value);if("boolean"==typeof e)return e}}function x(n,t){g(n,(n=>{t(n)}))}const O=n=>n;function m(n,t=O){if(e(n))return S(n,t);const r=o(n);return e(r)?S(r,t):Array.from(n,t)}function S(n,t){const r=[];return f(n,(n=>{r.push(t(n))})),r}function A(n,t){let r=!0;return g(n,(n=>{if(r=!!t(n),!r)return!1})),r}function j(n){if(e(n))return k(n);const t=o(n);return e(t)?k(t):function(n){const t=n.next();return t.done?void 0:t.value}(t)}function k(n){let t;return f(n,(n=>(t=n,!1))),t}function w(n,t){let e=!1,o=n=>{(e=!!n&&!t(n))&&(o=v,u=a)},u=()=>{const t=n.next();return t.done&&(e=!0,o=v,u=a),t};return{[Symbol.iterator]:c,[r](n){return o(n),this},next:()=>u(),isOver:()=>e}}function K(n){return t=>{for(;;){const r=n.next();if(r.done)return!1;const e=t(r.value);if("boolean"==typeof e)return e}}}function N(n,t){return e(n)?y(n,t):Array.isArray(n)?function(n,t){return n.length?p(n)(t):h}(n,t):function(n,t){const r=o(n);if(e(r))return y(r,t);const u=K(r);return u(t)?w(r,u):h}(n,t)}function P(n,t,r){let e=r;return g(n,(n=>{e=t(e,n)})),e}function R(){return h}function q(n){return u(function(n){return t=>{const o=n();if(e(o))return o[r](t);const u=K(o);return t&&!u(t)?R():w(o,u)}}(n))}function z(...n){return n.length>1?u(function(n){return t=>{let r=0,e=n[0];const o=t=>{for(;;){let o;const u=N(e,(n=>o=t(n)));if(u.isOver()){if(++r>=n.length)return!1;e=n[r]}else e=u;if("boolean"==typeof o)return o}};return t&&!o(t)?R():s(o)}}(n)):n.length?(t=n[0],Array.isArray(t)?d(t):q((()=>o(t)))):R();var t}function B(n){return u(function(n){return t=>{if(t)return t(n),R();let e=!1;return{[Symbol.iterator]:c,[r](t){return e?R():t?(e=!0,t(n),R()):this},next:()=>e?{done:e}:(e=!0,{value:n}),isOver:()=>e}}}(n))}function C(n,t){return u(function(n,t,e){return o=>{let u=0;const i=r=>{for(;;){if(u>=n.length)return!1;const o=t(n,u++);if(e(o)){const n=r(o);if("boolean"==typeof n)return n}}};if(o&&!i(o))return R();let f=!1,s=n=>{n&&!i(n)&&(f=!0,s=v,l=a)},l=()=>{for(;;){if(u>=n.length)return f=!0,s=v,l=a,{done:!0};const r=t(n,u++);if(e(r))return{value:r}}};return{[Symbol.iterator]:c,[r](n){return s(n),this},next:()=>l(),isOver:()=>f}}}(n,b,t))}function D(n,t){return u((r=>{const u=e(n)?E(n,t):function(n,t){const r=o(n);if(e(r))return E(r,t);return n=>{for(;;){const e=r.next();if(e.done)return!1;const o=e.value;if(t(o)){const t=n(o);if("boolean"==typeof t)return t}}}}(n,t);return r&&!u(r)?R():s(u)}))}function E(n,t){return r=>{const e=y(n,(n=>{if(t(n))return r(n)}));return n=e,!e.isOver()}}function F(n,t){return u((r=n,e=t?(n,r)=>t(n[r]):G,n=>{let t,o=0;const u=n=>{if(o>=r.length)return!1;for(t||(t=e(r,o));;){let u;const i=N(t,(t=>u=n(t)));if(i.isOver()){if(++o>=r.length)return!1;t=e(r,o)}else t=i;if("boolean"==typeof u)return u}};return n&&!u(n)?R():s(u)}));var r,e}function G(n,t){return n[t]}function H(n,t=J){return u((r=>{const u=e(n)?I(n,t):function(n,t){const r=o(n);if(e(r))return I(r,t);let u;return n=>{for(;;){if(!u){const n=r.next();if(n.done)return!1;u=t(n.value)}let e;const o=N(u,(t=>e=n(t)));if(u=o.isOver()?void 0:o,"boolean"==typeof e)return e}}}(n,t);return r&&!u(r)?R():s(u)}))}function I(n,t){let r,e=!1;return o=>{for(;;){for(;!r;){const o=y(n,(n=>(r=t(n),!0)));if(n=o,o.isOver()){if(!r)return!1;e=!0}}let u;const i=N(r,(n=>u=o(n)));if(i.isOver()){if(r=void 0,e)return!1}else r=i;if("boolean"==typeof u)return u}}}function J(n){return n}function L(n,t){return u((r=>{const u=e(n)?M(n,t):function(n,t){const r=o(n);if(e(r))return M(r,t);return n=>{for(;;){const e=r.next();if(e.done)return!1;const o=n(t(e.value));if("boolean"==typeof o)return o}}}(n,t);return r&&!u(r)?R():s(u)}))}function M(n,t){return r=>{const e=y(n,(n=>r(t(n))));return n=e,!e.isOver()}}function Q(n){return L(function(n){return d(Reflect.ownKeys(n))}(n),(t=>[t,n[t]]))}function T(r,...e){const o=(r,u)=>{const i=u>=e.length,f=++u<e.length?e[u]:()=>{},s=(r,e,s)=>{n(e)?e[t](o(r,u),f):i?r.push(B(s)):o(r,u).pass(f,e)};return{call(n,t){s(r,n(...t),t)},pass(n,t){s(r,n(t),t)},skip(){},iterate(n,t){r.push(H(t,(t=>{const r=[];return s(r,n(t),t),F(r)})))}}},u=[];return o(u,0).iterate(e[0],r),F(u)}export{r as P,d as a,z as b,P as c,m as d,R as e,C as f,F as g,A as h,x as i,D as j,q as k,o as l,L as m,H as n,Q as o,j as p,T as t};//# sourceMappingURL=push-iterator.5fa79126.js.map
