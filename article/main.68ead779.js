import{t as e}from"../js/lib/fun-events.a21352be.js";import{C as t,p as s,R as o,B as r,s as n}from"../js/wesib/wesib.e063c4fa.js";import{_ as a}from"../js/helpers.920c7f83.js";import{b as i,a as c,N as p,c as l}from"../js/wesib/generic.2d4b9745.js";import{C as m}from"../js/core.f6946162.js";import{R as h,a as d}from"../js/core/loader.0815288f.js";import{c as f}from"../js/core/main.8b67d358.js";import{A as j,a as u}from"../js/core/articles.64f025b2.js";import{F as b,c as g,n as _,C as v}from"../js/follow-author.component.a60d2d28.js";import{C as w,A as y}from"../js/article-meta-components-support.feature.24e84606.js";let C=class{constructor(e){this._context=e;const t=e.get(j),s=this._context.get(i);e.whenOn(o=>{o.whenOff(()=>this.content=void 0),s.get(w).tillOff(o)(s=>{s.slug?t.htmlContents(s).then(t=>{e.connected&&(this.content=t)}).catch(t=>{e.connected&&(this.content=void 0,console.error("Failed to parse article",t))}):this.content=void 0})})}};a([h({comment:"ARTICLE(content)",offline:!0})],C.prototype,"content",void 0),C=a([t(["article-content",m])],C);let x=class{constructor(t){this._context=t,this._response=e();const s=t.get(j),o=t.get(p),r=this._context.get(i),n=g(this._response.read.keep.thru_(e=>e&&e.ok?e.body.author:_));r.provide({a:w,is:this._response.read.keep.thru_(e=>e&&e.ok?e.body:{})}),r.provide({a:v,is:n}),t.whenOn(e=>{o.read.tillOff(e).consume(e=>{const t=decodeURIComponent(e.get(l).pathname.substring(1));return s.article(t)(e=>this.response=e)})})}get response(){return this._response.it}set response(e){this._response.it=e}render(){const{document:e}=this._context.get(r);return()=>{const{response:t}=this;t&&t.ok&&(e.getElementById("article:title").innerText=t.body.title)}}};a([s(),d()],x.prototype,"response",null),a([o({path:n("response")})],x.prototype,"render",null),x=a([t(["article",m],{feature:{needs:[C,y,u,b]}},c())],x),f.load(x);//# sourceMappingURL=main.68ead779.js.map
