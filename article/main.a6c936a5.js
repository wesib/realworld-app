import{o as s,R as t,C as o}from"../js/wesib/wesib.5eadef04.js";import{_ as e}from"../js/helpers.920c7f83.js";import{b as r,N as n,P as a}from"../js/wesib/generic.28627b52.js";import{C as i}from"../js/common.74dd5bad.js";import{L as c}from"../js/generic/loader.40ed27d5.js";import{c as m}from"../js/common/main.bccf3071.js";import{A as l,F as p}from"../js/common/articles.2a834336.js";import{C as u,A as h}from"../js/article-meta-support.feature.ba6059d7.js";import{e as d}from"../js/common/util.36d20bba.js";let f=class{constructor(s){this._context=s;const t=s.get(r);s.whenOn(s=>{t.get(u).tillOff(s)(s=>{this.author=s.slug?s.author:void 0})})}render(){const{contentRoot:s}=this._context;return()=>{this.author?(s.className=this.author.following?"btn-outline-primary":"btn-outline-secondary",s.innerHTML=`<i class="ion-plus-round"></i> Follow ${d(this.author.username)}`):s.innerHTML=""}}};e([s()],f.prototype,"author",void 0),e([t()],f.prototype,"render",null),f=e([o(["follow-author",i])],f);let j=class{constructor(s){this._context=s;const t=s.get(l),o=s.get(n);s.whenOn(s=>{o.read.tillOff(s).consume(s=>{const o=s.get(a).pathname.substring(0);return t.article(o)(s=>this.response=s)})})}get response(){return this._response}set response(s){this._response=s,this._context.get(r).provide({a:u,is:s&&s.ok?s.body:{}})}};e([s()],j.prototype,"response",null),j=e([o(["article",i],{feature:{needs:[h,p,f,c]}})],j),m.load(j);//# sourceMappingURL=main.a6c936a5.js.map
