import{ab as s,ao as e,af as a,ap as t,ae as o,aq as r,a8 as i}from"../js/lib.9ec3b7f1.js";import{C as n,S as m,O as c,i as l,N as p}from"../js/wesib.29dab4ef.js";import{U as g,C as u,F as b,A as d,a as f,c as h}from"../js/common.4b73c0e1.js";import{LoginEmailComponent as j,LoginPasswordComponent as v}from"../login/main.ba847d3c.js";let _=class{};_=s([n(["register-username",u],g({makeControl:({node:s,aspects:o})=>e(s.element,{aspects:o}).setup(a,s=>s.by(t()))}),m("username"))],_);let y=class{constructor(s){this._authService=s.get(d),this._navigation=s.get(p)}submit({control:s}){s.aspect(o).markEdited(),s.aspect(r).submit(s=>f(this._authService.register(s))).then(()=>this._navigation.open(".")).catch(s=>{s instanceof i?console.log("Failed to register",...s.errors):console.log("Failed to register",s)})}};s([c()],y.prototype,"submit",null),y=s([n(["register",u],{feature:{needs:[j,v,_]}},b({emptyModel:{username:"",email:"",password:""}}),l())],y),h.load(y);//# sourceMappingURL=main.e3cb60ac.js.map
