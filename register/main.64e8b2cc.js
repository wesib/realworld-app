import{C as s}from"../js/wesib/wesib.5eadef04.js";import{_ as e}from"../js/helpers.920c7f83.js";import{a}from"../js/common/auth.924b8fbd.js";import{a as o}from"../js/common/api.689b3fef.js";import{S as t,O as r,a as i,N as m}from"../js/wesib/generic.28627b52.js";import{q as n,g as c,r as p,f as l,s as f,I as j}from"../js/lib/input-aspects.517f5412.js";import{C as b}from"../js/common.74dd5bad.js";import{c as d}from"../js/common/main.bccf3071.js";import{U as u,F as g,C as h}from"../js/common/input.55aa95b9.js";import{LoginEmailComponent as _,LoginPasswordComponent as v}from"../login/main.de2a010e.js";let w=class{};w=e([s(["register-username",b],u({makeControl:({node:s,aspects:e})=>n(s.element,{aspects:e}).setup(c,s=>s.by(p()))}),t("username"))],w);let C=class{constructor(s){this._authService=s.get(a),this._navigation=s.get(m)}submit({control:s}){s.aspect(l).markEdited(),s.aspect(f).submit(s=>o(this._authService.register(s))).then(()=>this._navigation.open(".")).catch(s=>{s instanceof j?console.log("Failed to register",...s.errors):console.log("Failed to register",s)})}};e([r()],C.prototype,"submit",null),C=e([s(["register",b],{feature:{needs:[h,_,v,w]}},g({emptyModel:{username:"",email:"",password:""}}),i())],C),d.load(C);//# sourceMappingURL=main.64e8b2cc.js.map
