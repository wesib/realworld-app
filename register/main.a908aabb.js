import{ab as s,ao as e,af as a,ap as t,ae as o,aq as r,a7 as i}from"../js/lib.e4c19b17.js";import{C as n,S as c,O as m,i as l,N as p}from"../js/wesib.23766358.js";import{U as d,C as g,b as u,A as b,d as h,c as f}from"../js/common.0752c4ca.js";import{LoginEmailComponent as j,LoginPasswordComponent as v}from"../login/main.b5d6cd82.js";let _=class{};_=s([n(["register-username",g],d({makeControl:({node:s,aspects:o})=>e(s.element,{aspects:o}).setup(a,s=>s.by(t()))}),c("username"))],_);let y=class{constructor(s){this._authService=s.get(b),this._navigation=s.get(p)}submit({control:s}){s.aspect(o).markEdited(),s.aspect(r).submit(s=>h(this._authService.register(s))).then(()=>this._navigation.open(".")).catch(s=>{s instanceof i?console.log("Failed to register",...s.errors):console.log("Failed to register",s)})}};s([m()],y.prototype,"submit",null),y=s([n(["register",g],{feature:{needs:[j,v,_]}},u({emptyModel:{username:"",email:"",password:""}}),l())],y),f.load(y);//# sourceMappingURL=main.a908aabb.js.map
