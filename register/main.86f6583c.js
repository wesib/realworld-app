import{C as s}from"../js/wesib/wesib.e063c4fa.js";import{_ as e}from"../js/helpers.920c7f83.js";import{a}from"../js/core/auth.54ec27a2.js";import{a as r}from"../js/core/api.494f1eea.js";import{S as t,O as o,a as i,N as m}from"../js/wesib/generic.2d4b9745.js";import{q as c,g as n,r as p,f as l,s as j,I as f}from"../js/lib/input-aspects.88ad3da2.js";import{C as d}from"../js/core.f6946162.js";import{c as u}from"../js/core/main.ebc63840.js";import{U as g,F as b,C as h}from"../js/core/input.c4d0583e.js";import{L as w,a as _}from"../js/login-password.component.81d0e468.js";let v=class{};v=e([s(["register-username",d],g({makeControl:({node:s,aspects:e})=>c(s.element,{aspects:e}).setup(n,s=>s.by(p()))}),t("username"))],v);let C=class{constructor(s){this._authService=s.get(a),this._navigation=s.get(m)}submit({control:s}){s.aspect(l).markEdited(),s.aspect(j).submit(s=>r(this._authService.register(s))).then(()=>this._navigation.open(".")).catch(s=>{s instanceof f?console.log("Failed to register",...s.errors):console.log("Failed to register",s)})}};e([o()],C.prototype,"submit",null),C=e([s(["register",d],{feature:{needs:[h,w,_,v]}},b({emptyModel:{username:"",email:"",password:""}}),i())],C),u.load(C);//# sourceMappingURL=main.86f6583c.js.map
